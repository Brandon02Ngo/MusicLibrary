<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Report</title>
  <link rel="stylesheet" href="listener_report.css">
  <link rel="icon" href="img/music_disc.png" type="image/x-icon">
 <!--  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script> -->
</head>

<body>
  <h1>Listener Data Report</h1>
  <h2>Specify Your Date Range</h2>
  <div>
    <label for ="fromDate">From Date</label>
    <input type="date" name="fromDate" id="fromDate" min="2023-01-01" required>
  </div>
  <div>
    <label for ="toDate">To Date</label>
    <input type="date" name="toDate" id="toDate" min="2023-01-01" required>
  </div>

  <h2>Display Playlists</h2>
  <div>
    <label for ="playlist">Show in Playlist?</label> 
    <input type="checkbox" name="playlist" id="playlist">
  </div>

  <h2>Rating Range</h2>
  <div>
    <label for="minimumRating">Min Rating</label>
    <input type="range" name="minimumRating" id="minimumRating" min="0" max="5" value="0" oninput="updateValue(this.id, this.value)">
    <span id="minimumRatingValue">0</span>
  </div>

  <div>
    <label for="maximumRating">Max Rating</label>
    <input type="range" name="maximumRating" id="maximumRating" min="0" max="5" value="5" oninput="updateValue(this.id, this.value)">
    <span id="maximumRatingValue">5</span>
  </div>

  <h2>Minimum Listens</h2>
  <div>
    <label for="minimumListens">Min Listens</label>
    <input type="range" name="minimumListens" id="minimumListens" min="0" max="1000" value="0" oninput="updateValue(this.id, this.value)">
    <span id="minimumListensValue">0</span>
  </div>

  <div>
    <h3>Enter Desired Genre</h3>
    <label for="genre">Genre</label>
    <select name="genre" id="genre">
      <option value="ALL">All Genre</option>
      <option value="Classical">Classical</option>
      <option value="Country">Country</option>
      <option value="Electronic">Electronic</option>
      <option value="Jazz">Jazz</option>
      <option value="Pop">Pop</option>
      <option value="Rock">Rock</option>
      <option value="Sounds">Sounds</option>
    </select>
</div>

</div>
</body>


<script>
  function updateValue(sliderId, newValue) {
  // Find the span element where you want to display the value
    var valueSpan = document.getElementById(sliderId + "Value");

    // Update the span element's text content with the current slider value
    valueSpan.textContent = newValue;
  }

  // Ensures valid dates and sliders
  function validateForm() {
    var fromDate = document.getElementById('fromDate').value;
    var toDate = document.getElementById('toDate').value;

    // Convert date strings to Date objects for comparison
    var fromDateObj = new Date(fromDate);
    var toDateObj = new Date(toDate);

    // Check if fromDate is after toDate
    if (fromDateObj > toDateObj) {
      // Show an error message
      alert('From Date cannot be after To Date');
      return false; // Prevent form submission
    }

    var minRating = parseInt(document.getElementById('minimumRating').value);
    var maxRating = parseInt(document.getElementById('maximumRating').value);
    
    // Check if maxRating < minRating
    if (maxRating < minRating) {
      // Show an error message
      alert('Min Rating cannot exceed Max Rating');
      return false; // Prevent form submission
    }

    var minListens = parseInt(document.getElementById('minimumListens').value);
    var maxListens = parseInt(document.getElementById('maximumListens').value);

    // Check if maxListens < minListens
    if (maxListens < minListens) {
      // Show an error message
      alert('Min Listens cannot exceed Max Listens');
      return false; // Prevent form submission
    }
    return true; // Allow form submission
  }
</script>
</html>